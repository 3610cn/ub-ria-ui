<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>ToggleSelector - Demo</title>
    <link rel="stylesheet" href="assets/themes/standard.less" />
    <link href="assets/third-party/prism.css" rel="stylesheet" />
    <script src="assets/loader/esl.js"></script>

    <!--[if lt IE 9]>
    <script src="http://xy3.baidu.com/js/html5.js"></script>
    <![endif]-->
    <script src="assets/third-party/prism.js"></script>
    <script src="assets/third-party/jquery-1.9.1.min.js"></script>

    <script src="demo.js"></script>
</head>
<body>
    <h1 id="branding">ToggleSelector</h1>
    <div id="page">
        <ul id="navigator">
        </ul>
        <div id="main">
            <h2>下拉选择控件</h2>
            <section class="intro">
                <p>下拉选择</p>
            </section>
            <section class="view">
                <ul class="viewer">
                    <li class="view-markup">结构</li>
                </ul>
                <div class="example ui-demo-light-stage" id="container">
                    <div class="row">
                        <label class="label">单选第一层级：</label>
                        <div
                            data-ui-type="ToggleSelector"
                            data-ui-id="slot-channel"
                            data-ui-name="slotChannel"
                            data-ui-target-control="slot-channel-selector"
                            data-ui-text-field="name"
                            data-ui-width="200"
                            data-ui-value-field="id">
                            <span>请选择</span>
                            <section>
                                <div
                                    data-ui-type="TableRichSelector"
                                    data-ui-id="slot-channel-selector"
                                    data-ui-item-name="应用"
                                    data-ui-multi="false"
                                    data-ui-has-foot="true"
                                    data-ui-has-head="false"
                                    data-ui-width="200"
                                    data-ui-has-row-head="false"
                                    class="no-move-richselector">
                                </div>
                            </section>
                        </div>
                    </div>
                    <div class="row">
                        <label class="label">单选二层级：</label>
                        <div
                            data-ui-type="ToggleSelector"
                            data-ui-id="slot-tree"
                            data-ui-name="slotTree"
                            data-ui-target-control="all-slots"
                            data-ui-text-field="name"
                            data-ui-width="250"
                            data-ui-value-field="id">
                            <span>请选择</span>
                            <section>
                                <div class="no-move-richselector"
                                    data-ui-type="TreeRichSelector"
                                    data-ui-id="all-slots"
                                    data-ui-multi="false"
                                    data-ui-has-foot="false"
                                    data-ui-has-head="false"
                                    data-ui-width="250"
                                    data-ui-only-leaf-select="true">
                                </div>
                            </section>
                        </div>
                    </div>
                    <div class="row">
                        <label class="label">占位：</label>
                        <div
                            data-ui-type="ToggleSelector"
                            data-ui-id="slot-tree-oppucied"
                            data-ui-name="slotTree"
                            data-ui-target-control="all-slots-oppucied"
                            data-ui-text-field="name"
                            data-ui-value-field="id"
                            data-ui-position="fixed">
                            <span>请选择</span>
                            <section>
                                <div class="no-move-richselector"
                                    data-ui-type="TreeRichSelector"
                                    data-ui-id="all-slots-oppucied"
                                    data-ui-multi="false"
                                    data-ui-has-foot="false"
                                    data-ui-has-head="false"
                                    data-ui-only-leaf-select="true">
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <script>
        require(
                [
                    'esui',
                    'selectors/TreeRichSelector',
                    'selectors/TableRichSelector',
                    'selectors/ToggleSelector'
                ],
                function (ui) {
                    var tables = ui.init(document.body);
                    var table1 = ui.get('slot-channel-selector');

                    var arrayDatasource = [];
                    for (var i = 0; i < 20; i++) {
                        var isSelected = false;
                        if (i == 20) {
                            isSelected = true;
                        }
                        arrayDatasource.push({
                            text: '<input />选项' + (i + 1),
                            name: '<input />选项' + (i + 1),
                            id: i + 1,
                            isSelected: isSelected
                        })
                    }

                    table1.setProperties({datasource: arrayDatasource});

                    table2 = ui.get('all-slots');

                    var datasource = {
                        id: 'root',
                        text: '所有选项<input/>',
                        children: []
                    };
                    var children = datasource.children;
                    for (var i = 0; i < 20; i++) {
                        var isSelected = false;
                        if (i == 20) {
                            isSelected = true;
                        }
                        children.push({
                            text: '选项<input/>' + (i + 1),
                            name: '选项<input/>' + (i + 1),
                            id: i + 1,
                            isSelected: isSelected
                        })
                    }

                    for (i = 0; i < children.length; i += 2) {
                        var node = children[i];
                        node.children = [
                            {
                                text: '子节点<input/>' + i,
                                name: '子节点<input/>' + (i),
                                id: 'child' + i
                            }
                        ]
                    }

                    table2.setProperties({datasource: datasource});

                    table3 = ui.get('all-slots-oppucied');
                    table3.setProperties({datasource: datasource});
                }
        );
    </script>
</body>
</html>
